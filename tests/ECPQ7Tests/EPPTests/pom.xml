<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>org.eclipse.emf.ecp</groupId>
	<artifactId>q7-epp-tests</artifactId>
	<packaging>pom</packaging>

	<parent>
		<groupId>org.eclipse.emf.ecp</groupId>
		<artifactId>q7tests</artifactId>
		<version>0.0.1-SNAPSHOT</version>
	</parent>

	<modules>
		<module>update-site</module>
	</modules>
	<profiles>
		<profile>
			<id>local</id>
			<properties>
				<eclipse-product>http://ftp.fau.de/eclipse/technology/epp/downloads/release/${eclipse-name}/${eclipse-sr}/eclipse-modeling-${eclipse-name}-${eclipse-sr}-win32-x86_64.zip</eclipse-product>
			</properties>
		</profile>
	</profiles>
	<properties>
		<emfstore-update-site>http://download.eclipse.org/emfstore/releases_16</emfstore-update-site>
		<eclipse-product>http://mirror.cc.columbia.edu/pub/software/eclipse/technology/epp/downloads/release/${eclipse-name}/${eclipse-sr}/eclipse-modeling-${eclipse-name}-${eclipse-sr}-linux-gtk-x86_64.tar.gz</eclipse-product>
	</properties>

			<build>
				<plugins>
					<plugin>
						<groupId>org.eclipse.rcptt</groupId>
						<artifactId>rcptt-maven-plugin</artifactId>
						<version>${rcptt-maven-version}</version>
						<extensions>true</extensions>
						<configuration>
								<runner>
									<version>${rcptt-runner-version}</version>
									<vmArgs>
										  <vmArg>-connectTimeout 600</vmArg>
									</vmArgs>
								</runner>
							<aut>
								
								<explicit>${eclipse-product}</explicit>
								
								<!--win32-x86_64.zip-->
								<!--linux-gtk-x86_64.tar.gz-->

								<injections>
									<injection>
										<site>${emfstore-update-site}</site>
										<features>
											<feature>org.eclipse.emf.emfstore.server.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.ecore.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.example.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.common.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.transaction.feature.feature.group</feature>
											<feature>org.eclipse.emf.emfstore.client.ui.feature.feature.group</feature>
										</features>
									</injection>
									<injection>
										<site>${currentBuild}/org.eclipse.emf.ecp.repository.target/target/repository</site>
										<features>
											<feature>org.eclipse.emf.ecp.sdk.feature.feature.group</feature>
										</features>
									</injection>
								</injections>
							</aut>
							<projects>
								<project>${project.basedir}/../project</project>
							</projects>

						</configuration>
					</plugin>
				</plugins>
			</build>
		
</project>
